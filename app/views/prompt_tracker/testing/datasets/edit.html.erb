<% content_for :breadcrumbs do %>
  <li class="breadcrumb-item"><%= link_to @prompt.name, testing_prompt_prompt_version_path(@prompt, @version) %></li>
  <li class="breadcrumb-item"><%= link_to "Datasets", testing_prompt_prompt_version_datasets_path(@prompt, @version) %></li>
  <li class="breadcrumb-item"><%= link_to @dataset.name, testing_prompt_prompt_version_dataset_path(@prompt, @version, @dataset) %></li>
  <li class="breadcrumb-item active">Edit</li>
<% end %>

<div class="page-header" style="background-color: #EFF6FF; border-left: 4px solid #3B82F6; padding: 1.5rem; margin-bottom: 2rem;">
  <h1 style="color: #1E40AF; margin: 0;">
    <i class="bi bi-pencil"></i> Edit Dataset
    <span class="badge bg-primary">v<%= @version.version_number %></span>
  </h1>
  <p style="color: #1E40AF; margin: 0.5rem 0 0 0;">
    Update <%= @dataset.name %>
  </p>
</div>

<div class="row">
  <div class="col-lg-8">
    <div class="card">
      <div class="card-body">
        <%= render "form",
                   dataset: @dataset,
                   url: testing_prompt_prompt_version_dataset_path(@prompt, @version, @dataset),
                   method: :patch,
                   submit_text: "Update Dataset",
                   cancel_path: testing_prompt_prompt_version_dataset_path(@prompt, @version, @dataset) %>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <div class="card">
      <div class="card-header">
        <h6 class="mb-0"><i class="bi bi-info-circle"></i> Dataset Info</h6>
      </div>
      <div class="card-body">
        <dl class="small mb-0">
          <dt>Rows</dt>
          <dd><%= @dataset.row_count %></dd>
          <dt>Created</dt>
          <dd><%= time_ago_in_words(@dataset.created_at) %> ago</dd>
          <% if @dataset.created_by.present? %>
            <dt>Created by</dt>
            <dd><%= @dataset.created_by %></dd>
          <% end %>
        </dl>
      </div>
    </div>
  </div>
</div>

