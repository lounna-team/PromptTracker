<div class="dropdown d-inline-block">
  <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="bi bi-eye"></i> Columns
  </button>
  <ul class="dropdown-menu dropdown-menu-end p-3" style="min-width: 250px;" onclick="event.stopPropagation();">
    <li class="mb-2">
      <strong class="dropdown-header px-0">Show/Hide Columns</strong>
    </li>
    <li><hr class="dropdown-divider"></li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-run-status-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="run_status" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-run-status-<%= test.id %>">Status</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-run-time-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="run_time" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-run-time-<%= test.id %>">Run Time</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-response-time-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="response_time" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-response-time-<%= test.id %>">Response Time</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-run-cost-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="run_cost" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-run-cost-<%= test.id %>">Cost</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-rendered-prompt-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="rendered_prompt" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-rendered-prompt-<%= test.id %>">Rendered Prompt</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-run-response-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="run_response" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-run-response-<%= test.id %>">Response</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-run-evaluations-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="run_evaluations" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-run-evaluations-<%= test.id %>">Evaluations</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-human-evaluations-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="human_evaluations" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-human-evaluations-<%= test.id %>">Human Evaluations</label>
    </li>
    <li class="form-check mb-2">
      <input class="form-check-input" type="checkbox" id="col-actions-<%= test.id %>" data-column-visibility-target="checkbox" data-column-name="actions" data-action="change->column-visibility#toggle" checked>
      <label class="form-check-label" for="col-actions-<%= test.id %>">Actions</label>
    </li>
    <li><hr class="dropdown-divider"></li>
    <li class="d-flex gap-2">
      <button class="btn btn-sm btn-outline-primary flex-fill" data-action="click->column-visibility#showAll">Show All</button>
      <button class="btn btn-sm btn-outline-secondary flex-fill" data-action="click->column-visibility#hideAll">Hide All</button>
    </li>
  </ul>
</div>
